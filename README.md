# ShoppingListApp (Автор: Вагизов Данис Равкатович)
ShoppingListApp — это приложение для управления списками покупок, разработанное для Android. Оно позволяет пользователям создавать, редактировать и удалять списки магазинов и продуктов, отслеживать их стоимость и статус покупки. Программа использует SQLite для хранения данных и предоставляет простой интерфейс для удобного управления покупками. Приложение создано в учебных целях и демонстрирует использование Android SDK, JNI (Java Native Interface) для работы с нативным кодом на C++, а также Material Design для пользовательского интерфейса.

1. Основные классы и их назначение:
   - MainActivity.java: Главная активность приложения, отображающая список магазинов. Пользователь может добавлять, удалять магазины и переходить к списку продуктов конкретного магазина.
   - ShopActivity.java: Активность для управления продуктами в выбранном магазине. Поддерживает добавление, редактирование, удаление продуктов, сортировку и поиск.
   - Shop.java: Класс-модель для представления магазина (ID и название).
   - Product.java: Класс-модель для представления продукта (ID, название, цена, статус покупки, описание).
   - ShopAdapter.java: Адаптер для отображения списка магазинов в `RecyclerView` в `MainActivity`.
   - ProductAdapter.java: Адаптер для отображения списка продуктов в `RecyclerView` в `ShopActivity`.
   - native-lib.cpp: Нативный код на C++ для работы с базой данных SQLite, обеспечивающий выполнение SQL-запросов (инициализация БД, добавление/удаление магазинов и продуктов, выборка данных, логирование SQL).

2. Ресурсы пользовательского интерфейса:
   - activity_main.xml: Макет для `MainActivity`, включающий `Toolbar`, `TextView` с заголовком "Shopping List App", `RecyclerView` для списка магазинов и `FloatingActionButton` для добавления магазина.
   - activity_shop.xml: Макет для `ShopActivity`, включающий `Toolbar`, `TextView` с заголовком "Shop Products", `RecyclerView` для списка продуктов и `FloatingActionButton` для добавления продукта.
   - item_shop.xml: Макет для элемента списка магазинов, использующий `CardView` для отображения названия магазина.
   - item_product.xml: Макет для элемента списка продуктов, включающий название, цену, описание и чекбокс для отметки покупки.
   - dialog_product.xml: Диалог для добавления/редактирования продукта с полями для названия, цены и описания.
   - main_menu.xml и shop_menu.xml: Меню для `MainActivity` (очистка БД, информация об авторе, просмотр логов) и `ShopActivity` (сортировка и поиск продуктов).
   - colors.xml и strings.xml: Ресурсы для цветов и строк, обеспечивающие единообразие интерфейса.
   - themes.xml: Тема приложения на основе `Theme.MaterialComponents.DayNight.NoActionBar`, отключающая стандартный `ActionBar` и использующая кастомный `Toolbar`.

3. База данных:
   - Используется SQLite через нативный код (`native-lib.cpp`).
   - Таблицы:
     - shops: Хранит магазины (поля: `id` — автоинкремент, `name` — название).
     - products: Хранит продукты (поля: `id` — автоинкремент, `shop_id` — ID магазина, `name` — название, `price` — цена, `bought` — статус покупки, `description` — описание).
   - Поддерживает операции CRUD (создание, чтение, обновление, удаление) через JNI.
   - Включает логирование SQL-запросов с возможностью просмотра и очистки логов.

4. Нативный код:
   - Реализован в `native-lib.cpp` для работы с SQLite.
   - Методы:
     - `initDatabase`: Инициализация базы данных.
     - `addShop`, `addProduct`: Добавление магазина/продукта.
     - `getShops`, `getProducts`: Получение списка магазинов/продуктов.
     - `updateProduct`, `deleteProduct`: Обновление/удаление продукта.
     - `deleteAll`: Очистка базы данных.
     - `executeSql`: Выполнение произвольных SQL-запросов.
     - `getLogs`, `clearLogs`: Получение и очистка логов SQL.

Функциональность программы

1. Управление магазинами (`MainActivity`):
   - Добавление магазина: Пользователь может добавить магазин через диалог, указав его название.
   - Просмотр списка магазинов: Список отображается в `RecyclerView` с использованием `CardView` для каждого магазина.
   - Удаление магазина: Долгое нажатие на магазин открывает диалог для удаления (с каскадным удалением продуктов).
   - Переход к продуктам: Нажатие на магазин открывает `ShopActivity` для управления продуктами.
   - Меню:
     - Очистка базы данных (удаление всех магазинов и продуктов).
     - Информация об авторе (учебный проект).
     - Просмотр и очистка логов SQL-запросов.

2. Управление продуктами (`ShopActivity`):
   - Добавление продукта: Диалог позволяет указать название, цену и описание.
   - Редактирование продукта: Пользователь может изменить название, цену, описание и статус покупки.
   - Удаление продукта: Долгое нажатие на продукт открывает диалог для удаления.
   - Отметка покупки: Чекбокс позволяет отметить продукт как купленный/некупленный.
   - Сортировка: Поддерживает сортировку по названию (по алфавиту, в обратном порядке), цене (по возрастанию, убыванию) и статусу покупки.
   - Поиск: Диалог для фильтрации продуктов по названию.
   - Меню: Содержит опции сортировки и поиска.

3. Интерфейс:
   - Использует Material Design с `CardView` для визуального выделения элементов.
   - `Toolbar` в обеих активностях для навигации (в `ShopActivity` есть кнопка "Назад").
   - `FloatingActionButton` для быстрого добавления магазинов/продуктов.
   - Контрастные цвета (`text_primary`, `card_bg`, `background`) для улучшения читаемости.

Назначение программы

   - Помогает пользователям организовывать списки покупок, разделяя их по магазинам.
   - Отслеживает стоимость продуктов и их статус (куплен/не куплен).
   - Поддерживает поиск и сортировку для удобной работы с большим количеством продуктов.
   - Логирование SQL-запросов для отладки и анализа.
   - Простота использования: Интуитивный интерфейс с диалогами и кнопками.
   - Гибкость: Поддержка сортировки и поиска продуктов.
   - Логирование: Возможность просмотра SQL-запросов для диагностики.

1. Зависимости:
   - `androidx.appcompat:appcompat:1.6.1`: Поддержка AppCompat для обратной совместимости.
   - `com.google.android.material:material:1.9.0`: Компоненты Material Design.
   - `androidx.constraintlayout:constraintlayout:2.1.4`: Для гибких макетов.
   - `androidx.cardview:cardview:1.0.0`: Для `CardView` в списках.

2. База данных:
   - Хранится в `/data/user/0/com.example.shoppinglistapp/databases/shopping.db`.
   - Использует внешний ключ (`shop_id`) с каскадным удалением для связи продуктов с магазинами.


- Сценарии использования:
  - Создание списка покупок для разных магазинов.
  - Отметка купленных товаров.
  - Сортировка продуктов по цене или статусу для планирования бюджета.
  - Поиск продуктов для быстрого доступа.
- Преимущества:
  - Простота и интуитивность интерфейса.
  - Поддержка русского языка.
  - Логирование SQL для отладки (полезно для разработчиков).
